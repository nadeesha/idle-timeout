/*! universalIdleTimeout v0.0.1 | Copyright (c) 2016-2018 Jacob MÃ¼ller */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.universalIdleTimeout=e():t.universalIdleTimeout=e()}(window,function(){return function(i){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}return o.m=i,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,i){"use strict";i.r(e);var n=function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=function(){function t(t,e){var o=this;this.storageKey="IDLE_TIMEOUT_UNIVERSAL_LAST_ACTION_TIME",this.timeoutHandle=null,this.isIdle=!1,this.startTime=0,this.remainingTime=0,this.lastPageX=-1,this.lastPageY=-1,this.eventNames=["DOMMouseScroll","mousedown","mousemove","mousewheel","MSPointerDown","MSPointerMove","keydown","touchmove","touchstart","wheel"],this.activeUniversalActionInThrottle=!1,this.handleEvent=function(t){if(!(0<o.remainingTime)){if("mousemove"===t.type){var e=t,i=e.pageX,n=e.pageY;if(void 0===i&&void 0===n||i===o.lastPageX&&n===o.lastPageY)return;o.lastPageX=i,o.lastPageY=n}o.resetTimeout()}},this.callback=t,this.options=n({element:document.body},e);var i=this.options.element;this.eventNames.forEach(function(t){i.addEventListener(t,o.handleEvent)}),this.resetTimeout()}return t.prototype.resetTimeout=function(){var t=this;this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null),this.isIdle&&!this.options.loop||(this.timeoutHandle=setTimeout(function(){t.handleTimeout()},this.remainingTime||this.options.timeout),this.startTime=(new Date).getTime())},t.prototype.recordUniversalLastActionTime=function(){var t=this;this.activeUniversalActionInThrottle||(this.activeUniversalActionInThrottle=!0,setTimeout(function(){try{window.localStorage.setItem(t.storageKey,Date.now().toString())}catch(t){}finally{t.activeUniversalActionInThrottle=!1}},5e3))},t.prototype.getUniversalLastActionTime=function(){try{return Number(window.localStorage.getItem(this.storageKey))||0}catch(t){return 0}},t.prototype.handleTimeout=function(){Date.now()-this.getUniversalLastActionTime()<this.options.timeout?(this.isIdle=!1,this.resetTimeout()):(this.isIdle=!0,this.resetTimeout(),this.callback())},Object.defineProperty(t.prototype,"idle",{get:function(){return this.isIdle},enumerable:!0,configurable:!0}),t}();e.default=function(t,e){return new o(t,e)}}]).default});